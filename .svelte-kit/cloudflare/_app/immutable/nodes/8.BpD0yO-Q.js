import"../chunks/CWj6FrbW.js";import{i as nt}from"../chunks/BpldQMAd.js";import{p as dt,s as v,i,f as m,h as vt,t as y,e as u,b,c as ct,m as w,$ as pt,g as r,K as c,d as a,r as e,k as j}from"../chunks/Cslclzbr.js";import{i as q}from"../chunks/D4P07oHo.js";import{r as A,s as M}from"../chunks/0uQcGVMJ.js";import{b as F}from"../chunks/NqDlTKQn.js";import"../chunks/BMfMfNjS.js";var ut=m('<meta name="description" content="Thiết lập thông tin cá nhân và cặp đôi"/>'),bt=m('<div class="flex items-center space-x-3"><img alt="Ảnh của bạn" class="w-16 h-16 rounded-full object-cover border-2 border-pink-200"/> <div><p class="text-sm text-gray-600">Ảnh đã tải lên</p> <button class="text-xs text-red-600 hover:text-red-700">Xóa</button></div></div>'),mt=m('<div class="text-center p-4 border-2 border-dashed border-gray-200 rounded-2xl"><div class="text-2xl mb-2">📷</div> <p class="text-sm text-gray-600 mb-2">Tải lên ảnh của bạn</p> <input type="file" accept="image/*" class="hidden" id="avatar1-input"/> <label for="avatar1-input" class="inline-block bg-gradient-to-r from-pink-500 to-purple-500 hover:from-pink-600 hover:to-purple-600 text-white px-4 py-2 rounded-2xl font-medium transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105 cursor-pointer text-sm disabled:opacity-50"> </label></div>'),ft=m('<div class="flex items-center space-x-3"><img alt="Ảnh người yêu" class="w-16 h-16 rounded-full object-cover border-2 border-purple-200"/> <div><p class="text-sm text-gray-600">Ảnh đã tải lên</p> <button class="text-xs text-red-600 hover:text-red-700">Xóa</button></div></div>'),gt=m('<div class="text-center p-4 border-2 border-dashed border-gray-200 rounded-2xl"><div class="text-2xl mb-2">📷</div> <p class="text-sm text-gray-600 mb-2">Tải lên ảnh người yêu</p> <input type="file" accept="image/*" class="hidden" id="avatar2-input"/> <label for="avatar2-input" class="inline-block bg-gradient-to-r from-pink-500 to-purple-500 hover:from-pink-600 hover:to-purple-600 text-white px-4 py-2 rounded-2xl font-medium transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105 cursor-pointer text-sm disabled:opacity-50"> </label></div>'),xt=m('<div class="min-h-screen bg-gradient-to-br from-rose-50 via-pink-50 to-fuchsia-50 pb-24 relative overflow-hidden"><div class="absolute inset-0 overflow-hidden pointer-events-none"><div class="absolute top-20 left-8 text-5xl opacity-10 animate-pulse">💖</div> <div class="absolute top-40 right-12 text-4xl opacity-15 animate-bounce">💕</div> <div class="absolute bottom-32 left-16 text-6xl opacity-8 animate-pulse">💝</div> <div class="absolute bottom-20 right-8 text-3xl opacity-12 animate-bounce">💗</div></div> <div class="container mx-auto px-4 py-12 relative z-10"><div class="text-center mb-12"><h1 class="text-5xl font-bold bg-gradient-to-r from-rose-600 via-pink-600 to-fuchsia-600 bg-clip-text text-transparent mb-4 tracking-wide">⚙️ Cài Đặt</h1> <p class="text-gray-700 text-xl font-medium">Thiết lập thông tin cá nhân và cặp đôi</p></div> <div class="max-w-4xl mx-auto space-y-8"><div class="bg-gradient-to-br from-white/95 to-white/85 backdrop-blur-xl rounded-3xl p-8 shadow-2xl border border-white/50 relative overflow-hidden"><div class="absolute inset-0 bg-gradient-to-br from-rose-50/50 to-pink-50/50"></div> <div class="relative z-10"><h2 class="text-2xl font-bold bg-gradient-to-r from-rose-600 to-pink-600 bg-clip-text text-transparent mb-6 flex items-center"><span class="mr-3 text-3xl">👤</span> Thông Tin Người Dùng</h2> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div class="bg-white/60 backdrop-blur-sm rounded-2xl p-4 border border-rose-100/50"><label class="block text-sm font-semibold text-gray-700 mb-2">📧 Email</label> <p class="text-gray-600 font-medium">baolytungpham@gmail.com</p></div> <div class="bg-white/60 backdrop-blur-sm rounded-2xl p-4 border border-rose-100/50"><label class="block text-sm font-semibold text-gray-700 mb-2">📅 Thành viên từ</label> <p class="text-gray-600 font-medium">24/10/2025</p></div></div></div></div> <div class="card"><h2 class="text-xl font-semibold text-gray-800 mb-4">💕 Thông Tin Cặp Đôi</h2> <div class="space-y-4"><div class="grid grid-cols-2 gap-4"><div><label class="block text-sm font-medium text-gray-700 mb-2">Tên Người Thứ Nhất</label> <input placeholder="Tên của bạn" type="text" class="w-full px-4 py-3 rounded-2xl border border-gray-200 focus:border-pink-300 focus:ring-2 focus:ring-pink-100 transition-colors duration-200"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Tên Người Thứ Hai</label> <input placeholder="Tên người yêu" type="text" class="w-full px-4 py-3 rounded-2xl border border-gray-200 focus:border-pink-300 focus:ring-2 focus:ring-pink-100 transition-colors duration-200"/></div></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Ngày Bắt Đầu</label> <input type="date" class="w-full px-4 py-3 rounded-2xl border border-gray-200 focus:border-pink-300 focus:ring-2 focus:ring-pink-100 transition-colors duration-200"/></div> <div class="grid grid-cols-2 gap-4"><div><label class="block text-sm font-medium text-gray-700 mb-2">Ảnh Của Bạn</label> <div class="space-y-3"><!></div></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Ảnh Người Yêu</label> <div class="space-y-3"><!></div></div></div> <button class="w-full bg-gradient-to-r from-pink-500 to-purple-500 hover:from-pink-600 hover:to-purple-600 text-white px-6 py-3 rounded-2xl font-medium transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none"> </button></div></div> <div class="bg-gradient-to-br from-white/95 to-white/85 backdrop-blur-xl rounded-3xl p-8 shadow-2xl border border-white/50 relative overflow-hidden"><div class="absolute inset-0 bg-gradient-to-br from-red-50/50 to-pink-50/50"></div> <div class="relative z-10"><button class="w-full px-6 py-4 border-2 border-red-300 bg-gradient-to-r from-red-50 to-pink-50 text-red-600 hover:from-red-100 hover:to-pink-100 rounded-2xl transition-all duration-300 font-bold text-lg shadow-lg hover:shadow-xl transform hover:scale-105">🚪 Đăng Xuất</button></div></div></div></div></div>');function Dt(Q,R){dt(R,!1);let o=w({partner1:"",partner2:"",startDate:"",avatar1:"",avatar2:""}),f=w(""),g=w(""),_=w(!1),p=w(!1);if(typeof window<"u"){const t=localStorage.getItem("coupleInfo");t&&(v(o,{...i(o),...JSON.parse(t)}),v(f,i(o).avatar1),v(g,i(o).avatar2))}async function V(t){var d;const n=(d=t.target.files)==null?void 0:d[0];if(n){v(p,!0);try{const s=new FormData;s.append("file",n),s.append("type","avatar1");const x=await fetch("/api/upload-avatar",{method:"POST",body:s});if(!x.ok)throw new Error("Upload failed");const{url:h}=await x.json();v(f,h),c(o,i(o).avatar1=h)}catch(s){console.error("Avatar upload error:",s),alert("Failed to upload avatar. Please try again.")}finally{v(p,!1)}}}async function W(t){var d;const n=(d=t.target.files)==null?void 0:d[0];if(n){v(p,!0);try{const s=new FormData;s.append("file",n),s.append("type","avatar2");const x=await fetch("/api/upload-avatar",{method:"POST",body:s});if(!x.ok)throw new Error("Upload failed");const{url:h}=await x.json();v(g,h),c(o,i(o).avatar2=h)}catch(s){console.error("Avatar upload error:",s),alert("Failed to upload avatar. Please try again.")}finally{v(p,!1)}}}function Z(){typeof window<"u"&&localStorage.setItem("coupleInfo",JSON.stringify(i(o))),v(_,!0),setTimeout(()=>{v(_,!1),alert("Settings saved successfully!")},1e3)}function $(){typeof window<"u"&&localStorage.removeItem("coupleInfo"),window.location.href="/auth"}nt();var T=xt();vt(t=>{var l=ut();pt.title="Cài Đặt - Dòng Thời Gian Tình Yêu",b(t,l)});var O=r(a(T),2),z=r(a(O),2),S=r(a(z),2),E=r(a(S),2),D=a(E),I=a(D),X=r(a(I),2);A(X),e(I);var B=r(I,2),J=r(a(B),2);A(J),e(B),e(D);var N=r(D,2),L=r(a(N),2);A(L),e(N);var C=r(N,2),P=a(C),U=r(a(P),2),tt=a(U);{var at=t=>{var l=bt(),n=a(l),d=r(n,2),s=r(a(d),2);e(d),e(l),y(()=>M(n,"src",i(f))),u("click",s,()=>{v(f,""),c(o,i(o).avatar1="")}),b(t,l)},et=t=>{var l=mt(),n=r(a(l),4),d=r(n,2),s=a(d,!0);e(d),e(l),y(()=>j(s,i(p)?"Đang tải...":"Chọn Ảnh")),u("change",n,V),b(t,l)};q(tt,t=>{i(f)?t(at):t(et,!1)})}e(U),e(P);var Y=r(P,2),G=r(a(Y),2),rt=a(G);{var ot=t=>{var l=ft(),n=a(l),d=r(n,2),s=r(a(d),2);e(d),e(l),y(()=>M(n,"src",i(g))),u("click",s,()=>{v(g,""),c(o,i(o).avatar2="")}),b(t,l)},it=t=>{var l=gt(),n=r(a(l),4),d=r(n,2),s=a(d,!0);e(d),e(l),y(()=>j(s,i(p)?"Đang tải...":"Chọn Ảnh")),u("change",n,W),b(t,l)};q(rt,t=>{i(g)?t(ot):t(it,!1)})}e(G),e(Y),e(C);var k=r(C,2),lt=a(k,!0);e(k),e(E),e(S);var H=r(S,2),K=r(a(H),2),st=a(K);e(K),e(H),e(z),e(O),e(T),y(()=>{k.disabled=i(_),j(lt,i(_)?"Đang lưu...":"Lưu Thông Tin")}),F(X,()=>i(o).partner1,t=>c(o,i(o).partner1=t)),F(J,()=>i(o).partner2,t=>c(o,i(o).partner2=t)),F(L,()=>i(o).startDate,t=>c(o,i(o).startDate=t)),u("click",k,Z),u("click",st,$),b(Q,T),ct()}export{Dt as component};
